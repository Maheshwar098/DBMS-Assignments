CREATE TABLE IF NOT EXISTS StdMarks(
name VARCHAR(30),
total_marks INT
);

CREATE TABLE IF NOT EXISTS Result(
roll_no INT,
name VARCHAR(30),
class VARCHAR(30)
);

SET SQL_MODE = "ORACLE";

DELIMITER //

CREATE OR REPLACE PROCEDURE update_result(roll_no INT, name VARCHAR(30), marks INT)
AS
class VARCHAR(30);
BEGIN
SELECT roll_no, name, marks;
INSERT INTO StdMarks SET StdMarks.name = name, StdMarks.total_marks = marks;

IF (marks<=1500 AND marks>=990) THEN
	SET class = 'Distinction';
ELSIF (marks<990 AND marks>=900) THEN 
	SET class = 'First Class';
ELSIF (marks<889 AND marks>=825) THEN 
         SET class = 'Higher Second Class';
END IF ;

INSERT INTO Result SET Result.roll_no = roll_no, Result.name = name , Result.class = class;

END
//

DELIMITER ;

CALL update_result(1,'raj',827);

DROP PROCEDURE update_result;

SELECT * FROM StdMarks;

SELECT * FROM Result ; 


DROP TABLE StdMarks;

DROP TABLE Result ;

