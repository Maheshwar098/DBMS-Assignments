CREATE TABLE IF NOT EXISTS OldStdRecord(
roll_no INT, 
name VARCHAR(30)
);

CREATE TABLE IF NOT EXISTS NewStdRecord(
roll_no INT,
name VARCHAR(30)
);

INSERT INTO OldStdRecord (roll_no, name)
VALUES
    (1, 'Amit Kumar'),
    (2, 'Priya Sharma'),
    (3, 'Rahul Verma'),
    (4, 'Sneha Yadav'),
    (5, 'Deepak Singh'),
    (6, 'Neha Patel'),
    (7, 'Poonam Gupta'),
    (8, 'Vikas Sharma');

INSERT INTO NewStdRecord (roll_no, name)
VALUES
    (1, 'Amit Kumar'),
    (2, 'Priya Sharma'),
    (3, 'Rahul Verma'),
    (4, 'Sneha Yadav'),
    (9, 'Suresh Yadav'),   
    (10, 'Anita Chopra'), 
    (11, 'Meena Das'),     
    (12, 'Raj Singh');     
SET SQL_MODE = "ORACLE";

DELIMITER //

CREATE OR REPLACE PROCEDURE myProc()
AS
roll INT;
name VARCHAR(30);
CURSOR c_new IS SELECT * FROM NewStdRecord;
BEGIN
OPEN c_new ;
FETCH c_new INTO roll,name ;
WHILE c_new%FOUND LOOP
	IF ((roll, name) NOT IN (SELECT * FROM OldStdRecord)) THEN 
		INSERT INTO OldStdRecord SET OldStdRecord.roll_no = roll , OldStdRecord.name = name ;  
	END IF ;
	FETCH c_new INTO roll,name;
END LOOP;
CLOSE c_new ;
END
//

DELIMITER ;

CALL myProc();

DROP PROCEDURE myProc;

SELECT * FROM OldStdRecord;

SELECT * FROM NewStdRecord ; 


DROP TABLE OldStdRecord;

DROP TABLE NewStdRecord;